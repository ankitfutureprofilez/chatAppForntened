(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5446],{795011:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[teamSlug]/[project]/settings/cron-jobs",function(){return n(851472)}])},99703:function(e,t,n){"use strict";var l=n(397458),i=n(496952),r=n(832191),o=n(14517),s=n(572009),a=n.n(s);t.Z=function(e){let{feedback:t,muted:n,size:s}=e;return(0,l.jsxs)("div",{className:a().betaBadge,children:[(0,l.jsx)(i.C,{className:(0,o.W)(n?a().betaBadgeMuted:null),size:s,variant:n?"gray-subtle":"pink",children:"Beta"}),t?(0,l.jsx)(r.z,{className:a().feedbackButton,onClick:()=>{document.dispatchEvent(new Event("show-feedback"))},size:"small",type:"tertiary",children:"Provide feedback"}):null]})}},134769:function(e,t,n){"use strict";n.d(t,{P:function(){return h}});var l=n(397458),i=n(14517),r=n(136886),o=n(9055),s=n(343870),a=n(549301),c=n.n(a),d=n(920404),u=n.n(d);function h(e){let{children:t,language:n,fileName:a,highlightedLinesNumbers:d,copy:h,className:p,hideCopy:x}=e;return(0,l.jsxs)("div",{className:(0,i.W)(u().wrapper,{[u().hasFileName]:a},p),children:[a&&!x?(0,l.jsxs)("div",{className:u().header,children:[(0,l.jsx)(o.x,{className:u().fileName,size:13,children:a}),(0,l.jsx)(s.Z,{className:u().copyButton,label:"Copy code",textToCopy:h||t})]}):null,(0,l.jsx)(r.ZP,{...r.lG,code:t,language:n,theme:void 0,children:e=>{let{className:t,style:n,tokens:r,getLineProps:o,getTokenProps:s}=e;return(0,l.jsx)("pre",{className:(0,i.W)(t,c().pre),style:n,children:(0,l.jsx)("code",{className:(0,i.W)(c().code,u().code),children:r.map((e,t)=>{let n=null==d?void 0:d.includes(t+1);return(0,l.jsxs)("div",{className:c().row,"data-highlighted":n,children:[(0,l.jsx)("span",{className:c().lineNumber,children:t+1}),(0,l.jsx)("div",{...o({line:e,key:t}),children:e.map((e,t)=>(0,l.jsx)("span",{...s({token:e})},t))})]},t)})})})}}),a||x?null:(0,l.jsx)(s.Z,{className:u().copyFloatingButton,label:"Copy code",textToCopy:h||t})]})}},343870:function(e,t,n){"use strict";var l=n(397458),i=n(652983),r=n(672854),o=n(351267),s=n(927062),a=n(14517),c=n(477452),d=n(813348),u=n(832191),h=n(38162),p=n(66818),x=n(684624),j=n(661654),m=n.n(j);let f={visible:{opacity:1,scale:1},hidden:{opacity:0,scale:.5}};t.Z=e=>{let{className:t,textToCopy:n,onClick:j,label:v,title:g,type:b="secondary",variant:_,normal:y,hover:w,active:N,shape:k="square",size:C,icon:P,iconSize:B=20,...$}=e,S=(0,p.e1)(),[T,F]=(0,i.useState)(!1),z=(0,i.useRef)(null),E=i.useCallback(e=>{z.current&&clearTimeout(z.current),F(!0),navigator.clipboard.writeText(n).catch(()=>S.error("Failed to copy to clipboard")).finally(()=>null==j?void 0:j(e)),z.current=setTimeout(()=>{F(!1)},1e3)},[n,S,j]),Z=(0,l.jsx)(r.A,{transition:{duration:.15},children:(0,l.jsx)(o.M,{initial:!1,mode:"wait",children:T?(0,l.jsx)(s.m.div,{animate:"visible",className:m().copyButtonIcon,"data-testid":(0,x.C)("copy","success"),exit:"hidden",initial:"hidden",variants:f,children:(0,l.jsx)(c.J,{size:B})},"check"):(0,l.jsx)(s.m.div,{animate:"visible",className:m().copyButtonIcon,exit:"hidden",initial:"hidden",variants:f,children:P||(0,l.jsx)(d.C,{size:B})},"copy")})});return y||w||N?(0,l.jsx)(h.o,{active:N,"aria-label":v,className:(0,a.W)(t),"data-testid":(0,x.C)("copy","button"),hover:w,normal:y,onClick:E,shape:k,size:C,svgOnly:!0,title:g,typeName:"button",...$,children:Z}):(0,l.jsxs)(u.z,{"aria-label":v,className:(0,a.W)(t),"data-testid":(0,x.C)("copy","button"),onClick:E,shape:k,size:C,svgOnly:!0,title:g,type:b,typeName:"button",variant:_,...$,children:[T?(0,l.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,Z]})}},851472:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var l=n(397458),i=n(850240),r=n(68839),o=n(9055),s=n(652983),a=n(99703),c=n(75883),d=n(135205),u=n(921690),h=n(526810),p=n(897831),x=n(566968),j=n(761891),m=n(927628),f=n(557385),v=n(539142),g=n(611648),b=n(495142),_=n(306054),y=n(566022),w=n(134769),N=n(410228),k=n.n(N);function C(e){let{filename:t,lang:n,children:i,className:r}=e;return(0,l.jsx)(w.P,{className:r,copy:i,fileName:t,language:n,children:i})}let P=`
--file:default
export default function handler(req, res) {
  res.status(200).end('Hello Cron!');
}
--file:nextjs
export default function handler(req, res) {
  res.status(200).end('Hello Cron!');
}
--file:nextjs-app-router
import { NextResponse } from 'next/server';

export async function GET() {
  return NextResponse.json({ ok: true });
}
--file:sveltekit
export function GET(req) {
  return new Response('Hello Cron!');
}
--file:nuxtjs
export default function handler(req, res) {
  res.end('Hello Cron!');
}
--file:remix
export async function loader() {
  return new Response('Hello Cron!');
}
--file:solidstart
export function GET() {
  return new Response("Hello Cron!");
}
--file:vercel.json
{
  "crons": [{
    "path": "/api/cron",
    "schedule": "0 10 * * *"
  }]
}`,B=[{title:"Vercel CLI",framework:"default",lang:"javascript",filename:"api/cron.js",code:$("default")},{title:"Next.js",framework:"nextjs",lang:"javascript",filename:"pages/api/cron.js",code:$("nextjs")},{title:"Next.js (App Router)",framework:"nextjs-app-router",lang:"javascript",filename:"app/api/cron/route.js",code:$("nextjs-app-router")},{title:"SvelteKit",framework:"sveltekit",lang:"javascript",filename:"src/routes/api/cron/+server.js",code:$("sveltekit")},{title:"Remix",framework:"remix",lang:"javascript",filename:"app/routes/api/cron.js",code:$("remix")},{title:"Nuxt.js",framework:"nuxtjs",lang:"javascript",filename:"server/api/cron.js",code:$("nuxtjs")},{title:"SolidStart",framework:"solidstart",lang:"javascript",filename:"src/routes/api/cron.js",code:$("solidstart")}];function $(e){let t=`--file:${e}`,n=P.indexOf(t)+t.length+1;if(-1===n)throw Error(`Unexpected key: ${e}`);let l=P.slice(n).indexOf("--file");return l=-1===l?P.length-1:l,P.slice(n,l+n-1)}let S=$("vercel.json"),T=new Map(B.map(e=>[e.framework,e]));function F(e){let{project:t}=e,[n,i]=(0,s.useState)("default"),a=null==t?void 0:t.framework;(0,s.useEffect)(()=>{if(a&&T.has(a)){i(a);return}i("default")},[i,a]);let c=(0,s.useMemo)(()=>T.get(n)??B[0],[n]);return(0,l.jsxs)(r.K,{className:k().empty,gap:2,children:[(0,l.jsxs)(r.K,{gap:4,children:[(0,l.jsx)(o.x,{as:"h3",size:20,weight:600,children:"Get Started with Cron Jobs on Vercel"}),(0,l.jsx)(o.x,{children:"1. Add a Serverless Function to your project:"})]}),(0,l.jsx)(y.m,{selected:n,setSelected:i,tabs:B.map(e=>({title:e.title,value:e.framework}))}),(0,l.jsx)(C,{filename:c.filename,lang:c.lang,children:c.code}),(0,l.jsx)(o.x,{children:"2. Add a cron job to your vercel.json:"}),(0,l.jsx)(C,{className:k().lastCodeBlock,filename:"vercel.json",lang:"json",children:S})]})}var z=n(928753),E=n(832191),Z=n(572465),H=n(277346),K=n(66818),O=n(24955),R=n.n(O);function M(e){var t,n,i,a;let{path:c,schedule:d,disabled:u,showPlaceholder:h}=e,p=(0,K.e1)(),[j,_]=(0,s.useState)(!1),y=(0,x.ic)();y=h?null:y;let{data:w}=(0,m.PY)(y),{account:N,team:k}=(0,f.Z)(),C=null==k?void 0:k.id,P=null==w?void 0:w.id,B=null==w?void 0:null===(n=w.targets)||void 0===n?void 0:null===(t=n.production)||void 0===t?void 0:t.id,$=null==w?void 0:null===(a=w.targets)||void 0===a?void 0:null===(i=a.production)||void 0===i?void 0:i.url,S=$?`https://${$}${c}`:void 0,T=(0,s.useMemo)(()=>{if(!N||!y||!B||!S)return;let e="username"in N?N.username:null,t="slug"in N?N.slug:null,n=new URL(S);return`/${t??e??""}/${y}/logs${(0,v.c)({targetPaths:[n.pathname]})}`},[N,y,S,B]),F=!w&&!N;return(0,l.jsxs)(H.JH,{actions:(0,l.jsxs)(r.K,{align:"center",direction:"row",gap:3,children:[(0,l.jsx)(E.z,{disabled:u,loading:j||!P,onClick:()=>{P&&!j&&(_(!0),(0,b.I)(`${(0,g.Bv)(P)}${(0,v.c)({teamId:C})}`,{method:"POST",body:JSON.stringify({schedule:d,path:c})}).catch(()=>{p.error("Failed to run the cron job.")}).finally(()=>{_(!1)}))},size:"small",type:"secondary",children:"Run"}),(0,l.jsx)(Z.Z,{disabled:u||!T,href:T??"",size:"small",type:"secondary",children:"View Logs"})]}),placeholder:F||h,children:[(0,l.jsx)(H.Sn,{title:c}),(0,l.jsx)(H.Sn,{description:(0,l.jsx)(o.x,{className:R().lineDescription,children:(0,z.toString)(d)}),title:(0,l.jsx)(r.K,{className:R().lineTitle,children:(0,l.jsx)("code",{children:(0,l.jsx)(A,{schedule:d})})})})]})}function A(e){let{schedule:t}=e,n=(e,t)=>`${e}-${t}`;return(0,l.jsx)(l.Fragment,{children:t.split("").map((e,t)=>"*"===e?(0,l.jsx)("span",{className:R().asterisk,children:"*"},n(t,e)):(0,l.jsx)("span",{children:e},n(t,e)))})}let L={host:"https://vercel.com",path:"/",schedule:"* * * * *"};function V(){var e;let[t,n]=(0,s.useState)(!1),[c,p]=(0,s.useState)(null),{team:y,isLoading:w}=(0,f.Z)(),N=(0,x.ic)(),k=null==y?void 0:y.id,{data:C,mutate:P,isLoading:B}=(0,m.PY)(N,{apiVersion:"v9"}),$=null==C?void 0:C.id,S=!!(null==C?void 0:null===(e=C.crons)||void 0===e?void 0:e.disabledAt),{can:T,isLoading:F}=(0,j.ZP)(),z=F?void 0:T(j.aU.Update,j._z.Project),E=!!C&&!(F||B||w),Z=t||!E,H=(0,s.useMemo)(()=>E?c?(0,l.jsx)(_.Z,{error:c}):z?(0,l.jsxs)("span",{children:["Learn more about"," ",(0,l.jsx)(u.r,{external:!0,href:"/docs/cron-jobs",tab:!0,variant:"highlight",children:"Cron Jobs"})]}):(0,l.jsx)(d.Footer.Status,{children:"You need additional permissions to manage your team's cron jobs"}):(0,l.jsx)(i.O,{width:256}),[E,c,z]),K=(0,s.useCallback)(async()=>{n(!0);try{if(!$)return;await (0,b.I)(`${(0,g.Lq)($)}${(0,v.c)({teamId:k})}`,{method:"PATCH",body:{enabled:S},throwOnHTTPError:!0}),await P()}catch(e){if(e instanceof Error){p(e);return}throw e}finally{n(!1)}},[n,p,k,$,P,S]);return(0,l.jsxs)(d.Fieldset,{disabled:!1===z,children:[(0,l.jsxs)(d.Content,{children:[(0,l.jsxs)(d.Title,{children:["Cron Jobs \xa0",(0,l.jsx)(a.Z,{})]}),(0,l.jsx)(d.Subtitle,{children:"Easily monitor and manage your cron jobs."}),(0,l.jsxs)(r.K,{gap:2,children:[(0,l.jsx)(r.K,{children:(0,l.jsx)(o.x,{children:"Disabling this feature will prevent all cron jobs from being executed. New cron jobs will still be created, updated, and deleted on each production deployment, but they will not run until the feature is reactivated."})}),(0,l.jsx)(r.K,{align:"center",direction:"row",gap:2,children:E?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{checked:!S,disabled:Z,onChange:()=>void K(),size:"large"}),(0,l.jsx)(o.x,{children:S?"Disabled":"Enabled"})]}):(0,l.jsx)(i.O,{height:30,width:128})})]})]}),(0,l.jsx)(d.Footer,{children:H})]})}function W(){var e,t;let n=(0,x.ic)(),{data:i,isLoading:o}=(0,m.PY)(n,{apiVersion:"v9"}),{can:s,isLoading:a}=(0,j.ZP)(),c=s(j.aU.Update,j._z.Project),d=!!(null==i?void 0:null===(e=i.crons)||void 0===e?void 0:e.disabledAt),u=(null==i?void 0:null===(t=i.crons)||void 0===t?void 0:t.definitions)??[],h=!!(i&&!o)&&!a;return(0,l.jsxs)(r.K,{children:[h&&0===u.length?(0,l.jsx)(F,{project:i}):null,h&&u.length>0?u.map(e=>(0,l.jsx)(M,{disabled:d||!c,...e},e.path)):null,h?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(M,{...L,showPlaceholder:!0}),(0,l.jsx)(M,{...L,showPlaceholder:!0}),(0,l.jsx)(M,{...L,showPlaceholder:!0}),(0,l.jsx)(M,{...L,showPlaceholder:!0}),(0,l.jsx)(M,{...L,showPlaceholder:!0}),(0,l.jsx)(M,{...L,showPlaceholder:!0}),(0,l.jsx)(M,{...L,showPlaceholder:!0}),(0,l.jsx)(M,{...L,showPlaceholder:!0})]})]})}var G=(0,p.Z)(function(){let e=(0,x.ic)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.G,{title:`${e} â€“ Cron Jobs`,titlePostfix:!0}),(0,l.jsxs)(r.K,{gap:6,children:[(0,l.jsx)(V,{}),(0,l.jsx)(W,{})]})]})})},38162:function(e,t,n){"use strict";n.d(t,{o:function(){return a}});var l=n(397458),i=n(14517);n(652983);var r=n(832191),o=n(585970),s=n.n(o);let a=e=>{let{normal:t,active:n,hover:o,className:a,...c}=e;return(0,l.jsx)(r.z,{...c,className:(0,i.W)(s().button,a),"data-custom-button":"",style:{"--button-custom-fg":`${(null==t?void 0:t.foreground)||""}`,"--button-custom-bg":`${(null==t?void 0:t.background)||""}`,"--button-custom-border":`${(null==t?void 0:t.border)||""}`,"--button-custom-fg-active":`${(null==n?void 0:n.foreground)||""}`,"--button-custom-bg-active":`${(null==n?void 0:n.background)||""}`,"--button-custom-border-active":`${(null==n?void 0:n.border)||""}`,"--button-custom-fg-hover":`${(null==o?void 0:o.foreground)||""}`,"--button-custom-bg-hover":`${(null==o?void 0:o.background)||""}`,"--button-custom-border-hover":`${(null==o?void 0:o.border)||""}`},children:c.children})}},813348:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var l=n(923390);let i=(0,l.H)('<path d="M6 17C4.89543 17 4 16.1046 4 15V5C4 3.89543 4.89543 3 6 3H13C13.7403 3 14.3866 3.4022 14.7324 4M11 21H18C19.1046 21 20 20.1046 20 19V9C20 7.89543 19.1046 7 18 7H11C9.89543 7 9 7.89543 9 9V19C9 20.1046 9.89543 21 11 21Z"/>')},572009:function(e){e.exports={betaBadge:"beta-badge_betaBadge__nn52_",betaBadgeMuted:"beta-badge_betaBadgeMuted__VXlGg",feedbackButton:"beta-badge_feedbackButton__Q8_1M"}},24955:function(e){e.exports={lineTitle:"cron-wrapper_lineTitle__mN5DW",asterisk:"cron-wrapper_asterisk__uyWmA",lineDescription:"cron-wrapper_lineDescription__JolKZ"}},410228:function(e){e.exports={empty:"empty-cron_empty__iaOEb",lastCodeBlock:"empty-cron_lastCodeBlock__iyK6V"}},920404:function(e){e.exports={wrapper:"code-highlight_wrapper__BWldn",code:"code-highlight_code__Dylqn",hasFileName:"code-highlight_hasFileName__c64jt",pre:"code-highlight_pre__GRtJA",header:"code-highlight_header__RrkoS",copyButton:"code-highlight_copyButton__cklku",copyFloatingButton:"code-highlight_copyFloatingButton__kUdCu",fileName:"code-highlight_fileName__Qnx7K"}},661654:function(e){e.exports={copyButtonIcon:"copy-button_copyButtonIcon__c_n2b"}},549301:function(e){e.exports={pre:"syntax-theme_pre__gn2yG",code:"syntax-theme_code__dI_Fb",lineNumber:"syntax-theme_lineNumber__QiymF",row:"syntax-theme_row__ieAT6"}},585970:function(e){e.exports={button:"custom_button__pUskI"}}},function(e){e.O(0,[4299,36886,68540,24148,98586,85394,38419,59085,49162,81797,10599,97831,49774,92888,40179],function(){return e(e.s=795011)}),_N_E=e.O()}]);