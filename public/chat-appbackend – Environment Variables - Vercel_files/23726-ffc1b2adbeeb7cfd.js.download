(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[23726],{666884:function(e,t,n){"use strict";n.d(t,{A:function(){return D},O:function(){return A}});var s=n(397458),r=n(14517),i=n(652983),l=n(690601),a=n.n(l),c=n(823671),o=n(268288),d=n(335139),u=n(590215),h=n(927297),x=n(68839),p=n(9055),g=n(832191),j=n(572465),f=n(760093),m=n(659863),y=n.n(m),_=n(353729),v=n(850240),b=n(496952),k=n(578903),N=n(62223),C=n(921690),w=n(22464),S=n.n(w);let L=e=>fetch(e).then(e=>e.json());function W(e){let{entry:t,excerpts:n,titleHighlightRanges:r,index:i,selectedIndex:l,setSelectedIndex:a,isChangelog:c}=e,o=(null==n?void 0:n.find(e=>e.text[0].toUpperCase()===e.text[0]))||(null==n?void 0:n[0]);return(0,s.jsx)("li",{"aria-selected":i===l,className:S().result,onKeyDown:function(e){if("Enter"===e.key){var t;null===(t=e.currentTarget.querySelector("a"))||void 0===t||t.click()}},onMouseEnter:()=>a(i),role:"option",tabIndex:0,children:(0,s.jsxs)(C.r,{href:t.url,children:[(0,s.jsxs)(x.K,{align:"center",direction:"row",gap:2,children:[(0,s.jsx)(E,{className:S().title,ranges:r,text:t.title}),(0,s.jsx)(b.C,{variant:c?"amber-subtle":"blue-subtle",children:c?"Changelog":"Blog"})]}),(null==o?void 0:o.text)?(0,s.jsx)(E,{className:S().excerpt,ranges:o.highlight_ranges,text:o.text}):null]})})}function E(e){let{text:t,ranges:n,className:r}=e,i=[],l=0;if(!(null==n?void 0:n.length))return(0,s.jsx)("span",{className:r,children:t});for(let[e,s]of n)i.push({str:t.slice(l,e)}),i.push({str:t.slice(e,s),highlight:!0}),l=s;return i.push({str:t.slice(l)}),(0,s.jsx)("div",{className:r,children:i.map(e=>e.highlight?(0,s.jsx)("mark",{className:S().highlight,children:e.str},e.str):(0,s.jsx)("span",{children:e.str},e.str))})}function K(e){let{inputValue:t}=e;return(0,s.jsx)("li",{"aria-selected":"false",className:S().result,role:"option",children:(0,s.jsxs)("div",{className:S().titleNoResult,children:['No results found for "',t,'".',(0,s.jsx)("br",{}),"Try again with a different keyword."]})})}function z(){return(0,s.jsxs)("li",{"aria-selected":"false",className:S().result,role:"option",children:[(0,s.jsxs)(x.K,{direction:"row",gap:2,children:[(0,s.jsx)(v.O,{width:"45%"}),(0,s.jsx)(v.O,{width:"10%"})]}),(0,s.jsx)("div",{className:S().excerpt,children:(0,s.jsx)(v.O,{width:"95%"})})]})}function I(){return(0,s.jsx)(s.Fragment,{children:[0,1].map(e=>(0,s.jsx)(z,{},e))})}var R=(0,i.memo)(e=>{let{onClose:t}=e,[n,l]=(0,i.useState)(""),[a,c]=(0,i.useState)(!1),[o,h]=(0,i.useState)(0),[x,p]=(0,i.useState)(!1),g=(0,i.useRef)(null),j=(0,i.useRef)(null),f=(0,k.useRouter)(),[m,y]=(0,i.useState)(""),v=(0,N.c)(m,100),{data:b=[],isLoading:C}=(0,_.ZP)(()=>v?`/api/algolia/blog/search?q=${v}`:null,L),w=C||n!==v,E=(0,i.useCallback)(e=>{let t=e.target.value;p(!!t),h(0),l(t),t.length<5||t.endsWith(" "),y(t)},[y]);(0,i.useEffect)(()=>{let e=e=>{var t;let{target:n}=e,s=null===(t=g.current)||void 0===t?void 0:t.contains(n);x&&!s&&p(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[x]);let z=(0,i.useCallback)(e=>{"/"===e.key&&j.current&&document.activeElement!==j.current&&document.activeElement===document.body&&(e.preventDefault(),j.current.focus())},[]);return(0,i.useEffect)(()=>(window.addEventListener("keydown",z),()=>{window.removeEventListener("keydown",z)}),[z]),(0,s.jsxs)("div",{className:S().container,children:[(0,s.jsxs)("label",{"aria-haspopup":"listbox",className:(0,r.W)(S().label,{[S().focused]:a}),ref:g,children:[(0,s.jsx)("span",{className:S().iconWrapper,children:(0,s.jsx)(d.o,{className:S().icon})}),(0,s.jsx)("span",{className:"geist-sr-only",children:"Search"}),(0,s.jsx)("input",{"aria-autocomplete":"list","aria-controls":"index-blog-output","aria-expanded":x,autoComplete:"off",className:(0,r.W)({[S().input]:!0}),onBlur:()=>c(!1),onChange:E,onFocus:()=>{c(!0),p(!!n)},onKeyDown:e=>{switch(e.key){case"ArrowDown":e.preventDefault(),h(Math.min(b.length-1,o+1));break;case"ArrowUp":e.preventDefault(),h(Math.max(0,o-1));break;case"Enter":{let e=b[o];e&&(f.prefetch(e.entry.url),f.push(e.entry.url))}}},placeholder:"Search posts...",ref:j,role:"combobox",type:"search",value:n}),t?(0,s.jsx)("button",{className:S().closeButton,onClick:t,type:"button",children:(0,s.jsx)(u.X,{className:S().icon})}):null]}),(0,s.jsxs)("ul",{className:S().results,id:"index-blog-output",role:"listbox",style:{display:x?"":"none"},tabIndex:-1,children:[w?(0,s.jsx)(I,{}):null,w||b.length?null:(0,s.jsx)(K,{inputValue:n}),!w&&b.length?b.map((e,t)=>(0,s.jsx)(W,{entry:e.entry,excerpts:e.excerpts,index:t,isChangelog:e.isChangelog,selectedIndex:o,setSelectedIndex:h,titleHighlightRanges:e.titleHighlightRanges},t)):null]})]})}),O=n(131555),T=n(604803),P=n(22607),B=n(588875),M=n(543147),Z=n.n(M),F=n(915792),q=n(453688);let H=(0,i.createContext)({openSubscribeModal:()=>{console.warn("You must render <LayoutHero> inside of a <Layout>")},category:null});function D(e){let{category:t,marketingDescription:n,marketingImage:r,marketingTitle:l,children:a}=e,[h,j]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),[y,_]=(0,i.useState)(!1);return(0,s.jsxs)(P.Z,{description:n,image:r,title:l,children:[(0,s.jsxs)("nav",{className:Z().nav,children:[(0,s.jsx)(T.Z,{wrapper:!0,children:(0,s.jsx)("div",{className:Z().navInner,children:f?(0,s.jsx)(R,{onClose:()=>m(!1)}):(0,s.jsxs)(T.Z,{row:!0,style:{justifyContent:"space-between"},children:[(0,s.jsx)(g.z,{onClick:()=>j(!0),prefix:(0,s.jsx)(c.a,{}),size:"small",style:{paddingLeft:8,paddingRight:8},type:"tertiary",children:(0,s.jsx)(p.x,{weight:700,children:"Categories"})}),(0,s.jsxs)(x.K,{direction:"row",gap:1,children:[(0,s.jsx)(g.z,{Component:"a","aria-label":"RSS Feed",href:"/atom",shape:"square",size:"small",svgOnly:!0,type:"tertiary",children:(0,s.jsx)(o.y,{})}),(0,s.jsx)(g.z,{"aria-label":"Search all blog posts and changelogs",onClick:()=>m(!0),shape:"square",size:"small",svgOnly:!0,type:"tertiary",children:(0,s.jsx)(d.o,{})})]})]})})}),(0,s.jsx)(B.Modal,{active:h,onClickOutside:()=>j(!1),children:(0,s.jsx)(B.Body,{children:(0,s.jsxs)(x.K,{gap:4,style:{paddingBottom:"8px"},children:[(0,s.jsxs)(x.K,{align:"center",direction:"row",justify:"space-between",children:[(0,s.jsx)(p.x,{color:"gray-1000",size:16,style:{letterSpacing:"-0.01em"},weight:700,children:"Categories"}),(0,s.jsx)(g.z,{"aria-label":"Close",onClick:()=>j(!1),shape:"square",style:{marginRight:-12},svgOnly:!0,type:"tertiary",children:(0,s.jsx)(u.X,{})})]}),(0,s.jsx)(q.NZ,{children:(0,s.jsx)(U,{afterSelect:()=>j(!1),currentCategory:t})}),(0,s.jsx)(q.iB,{children:(0,s.jsx)(Q,{afterSelect:()=>j(!1),currentCategory:t})})]})})})]}),(0,s.jsx)("main",{className:Z().wrapper,children:(0,s.jsxs)(x.K,{children:[(0,s.jsxs)("div",{className:Z().header,children:[(0,s.jsx)(U,{currentCategory:t}),(0,s.jsxs)(x.K,{direction:"row",gap:4,children:[(0,s.jsx)(R,{}),(0,s.jsx)(q.NZ,{children:(0,s.jsx)(g.z,{Component:"a","aria-label":"RSS Feed",href:"/atom",shape:"square",svgOnly:!0,type:"secondary",children:(0,s.jsx)(o.y,{})})})]})]}),(0,s.jsx)("div",{className:Z().feed,children:(0,s.jsx)(H.Provider,{value:{openSubscribeModal:()=>{_(!0)},category:t},children:a})})]})}),(0,s.jsx)(X,{currentCategory:t,isShowing:y,onClose:()=>_(!1)},t.id)]})}function A(e){let{title:t,children:n}=e;return(0,s.jsx)("div",{children:(0,s.jsxs)(x.K,{gap:{sm:8,md:12},children:[(0,s.jsxs)(x.K,{gap:{sm:3,md:3,lg:4},children:[(0,s.jsx)(q.NZ,{children:(0,s.jsx)(p.x,{as:"h1",className:(0,r.W)(Z().heroTitle),size:40,children:t})}),(0,s.jsx)(q.iB,{children:(0,s.jsx)(p.x,{as:"h1",className:(0,r.W)(Z().heroTitle),size:24,children:t})})]}),n||null]})})}function X(e){let{isShowing:t,currentCategory:n,onClose:r}=e,l=F.bd.filter(e=>"all"!==e.id),[c,o]=(0,i.useState)(l.reduce((e,t)=>({...e,[t.id]:"all"===n.id||n.id===t.id}),{})),[d,j]=(0,i.useState)(""),m=e=>{let t=l.reduce((t,n)=>({...t,[n.id]:e}),c);o(t)},y=e=>c[e],_=e=>o(t=>({...t,[e]:!t[e]})),v=l.every(e=>y(e.id)),b=l.some(e=>y(e.id)),k=b&&a()(d),[N,C]=(0,i.useState)(!1),[w,S]=(0,i.useState)(!1),L=async e=>{e.preventDefault(),C(!0),await new Promise(e=>{setTimeout(e,2e3)}),S(!0),C(!1)};return(0,s.jsx)(B.Modal,{active:t,onClickOutside:r,children:(0,s.jsxs)(B.Body,{children:[(0,s.jsx)("div",{style:{position:"absolute",top:8,right:8},children:(0,s.jsx)(g.z,{"aria-label":"Close",onClick:r,shape:"square",svgOnly:!0,type:"tertiary",children:(0,s.jsx)(u.X,{})})}),w?(0,s.jsxs)(x.K,{align:"center",gap:6,justify:"center",style:{padding:"56px 16px"},children:[(0,s.jsx)(h.I,{color:"var(--geist-cyan)",fill:!0,size:48}),(0,s.jsxs)(x.K,{align:"center",gap:3,children:[(0,s.jsx)(p.x,{size:24,style:{letterSpacing:"-0.03em"},weight:700,children:"Thanks for subscribing."}),(0,s.jsxs)(p.x,{align:"center",lineHeight:24,size:16,style:{letterSpacing:"-0.01em"},children:["We sent an email to ",d," to confirm your subscription."]})]})]}):(0,s.jsxs)(x.K,{gap:12,style:{paddingTop:24},children:[(0,s.jsx)(p.x,{align:"center",size:24,style:{letterSpacing:"-0.03em"},weight:700,children:"Get the latest updates."}),(0,s.jsx)("form",{onSubmit:e=>void L(e),children:(0,s.jsxs)(x.K,{gap:6,children:[(0,s.jsxs)(x.K,{gap:2,children:[(0,s.jsx)(p.x,{color:"gray-900",lineHeight:12,size:12,transform:"uppercase",weight:600,children:"Subscription"}),(0,s.jsx)(f.X,{checked:v,fullWidth:!0,onChange:v?()=>m(!1):()=>m(!0),style:{backgroundColor:v?"var(--accents-2)":"var(--accents-1)",color:v?"var(--geist-foreground)":"var(--accents-5)",padding:12,borderRadius:4},children:"All Posts"}),l.map(e=>(0,s.jsx)(f.X,{checked:y(e.id),fullWidth:!0,onChange:()=>_(e.id),style:{backgroundColor:y(e.id)&&!v?"var(--accents-2)":"var(--accents-1)",color:y(e.id)&&!v?"var(--geist-foreground)":"var(--accents-5)",padding:12,borderRadius:4},children:e.name},e.id))]}),(0,s.jsxs)(x.K,{gap:2,children:[(0,s.jsx)(O.I,{id:"subscription-modal-email",label:"Email",onChange:e=>j(e.target.value),required:!0,typeName:"email",value:d}),(0,s.jsx)(g.z,{disabled:!k||N,loading:N,children:"Subscribe"})]})]})})]})]})})}function U(e){let{currentCategory:t}=e;return(0,s.jsx)("ul",{className:Z().tabsWrapper,children:F.bd.map(e=>(0,s.jsx)("li",{children:(0,s.jsx)(y(),{className:(0,r.W)({[Z().active]:e.id===t.id}),href:e.url,children:e.name})},e.id))})}function Q(e){let{currentCategory:t,afterSelect:n}=e;return(0,s.jsx)(x.K,{gap:1,children:F.bd.map(e=>(0,s.jsx)(j.Z,{align:"start",className:(0,r.W)(Z().categoryLink,{[Z().categoryLinkCurrent]:t.id===e.id}),href:e.url,onClick:n,prefix:(0,s.jsx)(e.Icon,{}),type:"tertiary",children:e.name},e.url))})}},293186:function(e,t,n){"use strict";n.d(t,{E:function(){return i}});var s=n(21800);let r=(0,s.ZP)((e,t)=>({cache:{},setHighestLoadedPage(t,n){e(e=>({cache:{...e.cache,[t]:n}}))},getHighestLoadedPage(e){let n=t().cache;return n[e]??1}})),i=e=>{let{setHighestLoadedPage:t,getHighestLoadedPage:n}=r();return{setHighestLoadedPage:n=>t(e,n),highestLoadedPage:n(e)}}},188641:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(397458),r=n(652983),i=n(609230),l=n(257942);function a(e){let t=t=>{let{data:n,isLoading:a,isValidating:c}=(0,i.a)(),o=n?n.user:null;return(0,r.useEffect)(()=>{!o||a||c||l.co.identify(o.uid,o.email)},[a,c,o]),(0,s.jsx)(e,{...t,user:o||t.user})};return e.getInitialProps&&(t.getInitialProps=e.getInitialProps.bind(e)),t}},760093:function(e,t,n){"use strict";n.d(t,{O:function(){return h},X:function(){return u}});var s=n(397458),r=n(652983),i=n(14517),l=n(197892),a=n(837604),c=n(303477),o=n(372957),d=n.n(o);let u=(0,r.memo)(function(e){let{children:t,className:n,disabled:o,fullWidth:u,iconClassName:h,indeterminate:g,inverted:j,label:f,style:m,textOverflow:y,..._}=e,v=(0,c.M)("checkbox-"),b=(0,a.B)()||o,k=f?l._:r.Fragment,N=void 0===f?"label":"span",C=f?{value:f,withInput:!0,id:v}:void 0;return(0,s.jsx)(k,{...C,children:(0,s.jsxs)(N,{className:(0,i.W)(d().container,n,o&&d().disabled,u&&d().fullWidth),"data-version":"v1",htmlFor:v,style:m,children:[(0,s.jsxs)("span",{className:d().check,children:[t?(0,s.jsx)(s.Fragment,{children:"â€‹"}):null,(0,s.jsx)("input",{..._,className:(0,i.W)("geist-sr-only",d().input),disabled:b,id:v,type:"checkbox"}),(0,s.jsx)("span",{"aria-hidden":!0,className:(0,i.W)(d().icon,{inverted:j,indeterminate:g&&void 0===_.checked},b&&d().disabled,h),children:(0,s.jsxs)("svg",{fill:"none",height:16,viewBox:"0 0 20 20",width:16,children:[x,p]})})]}),t?(0,s.jsx)("span",{className:d().text,style:!1===y?{overflow:"hidden"}:{},children:t}):null]})})}),h=e=>{let[t,n]=(0,r.useState)(e),s=(0,r.useCallback)(()=>n(e=>!e),[]);return[t,s]},x=(0,s.jsx)("path",{d:"M14 7L8.5 12.5L6 10",stroke:"var(--geist-background)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),p=(0,s.jsx)("line",{stroke:"var(--checkbox-color)",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"5",x2:"15",y1:"10",y2:"10"})},62223:function(e,t,n){"use strict";n.d(t,{c:function(){return i},y:function(){return r}});var s=n(652983);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,s.useRef)(null),r=()=>{n.current&&clearTimeout(n.current)};return(0,s.useEffect)(()=>()=>r(),[]),function(){for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];r(),n.current=setTimeout(()=>{e(...i)},t)}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[n,r]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let n=setTimeout(()=>r(e),t);return()=>clearTimeout(n)},[e,t]),n}},543147:function(e){e.exports={nav:"layout_nav__NpRR7",navInner:"layout_navInner__bKt19",wrapper:"layout_wrapper__C020E",header:"layout_header__rNMIi",tabsWrapper:"layout_tabsWrapper__h1ifQ",active:"layout_active__3IQsS",heroTitle:"layout_heroTitle__cPu6A",categoryLink:"layout_categoryLink__t8W7O",categoryLinkCurrent:"layout_categoryLinkCurrent__sNOL4"}},22464:function(e){e.exports={container:"input_container__styln",label:"input_label__nUxeN",focused:"input_focused__fCJu5",icon:"input_icon__SxF99",iconWrapper:"input_iconWrapper__0KpYH",input:"input_input__dxM3r",closeButton:"input_closeButton__MOEfZ",results:"input_results__9__io",result:"input_result__PN31d",title:"input_title__EVAU5",titleNoResult:"input_titleNoResult__BMYrE",excerpt:"input_excerpt__qdO3T",skeletonContainer:"input_skeletonContainer__flCgI",highlight:"input_highlight__iv7wF"}},372957:function(e){e.exports={container:"checkbox_container__DIhWx",fullWidth:"checkbox_fullWidth__vaahg",disabled:"checkbox_disabled__a4pLx",check:"checkbox_check__5FdyV",text:"checkbox_text__QLL7x",icon:"checkbox_icon__6T6ug",input:"checkbox_input__ydSbd"}}}]);